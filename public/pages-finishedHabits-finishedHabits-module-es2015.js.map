{"version":3,"sources":["./src/app/pages/finishedHabits/finishedHabits.page.html","./src/app/pages/finishedHabits/finishedHabits-routing.module.ts","./src/app/pages/finishedHabits/finishedHabits.module.ts","./src/app/pages/finishedHabits/finishedHabits.page.scss","./src/app/pages/finishedHabits/finishedHabits.page.ts"],"names":[],"mappings":"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","file":"pages-finishedHabits-finishedHabits-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"medium\\\">\\r\\n    <ion-title>zakończone ({{items.length}})</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button menu=\\\"main-menu\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-spinner *ngIf = \\\"loading\\\" color=\\\"success\\\"></ion-spinner>\\r\\n  \\r\\n  <ion-card *ngFor=\\\"let item of items\\\" color={{item.color}}>\\r\\n    <ion-item (click)=\\\"onSelect(item.id, item)\\\" detail=\\\"true\\\" lines=\\\"none\\\">\\r\\n      <ion-label>{{item.name}}</ion-label>   \\r\\n    </ion-item>\\r\\n  \\r\\n    <ion-card-content>\\r\\n      <p class=\\\"desc\\\">{{item.description}}</p>\\r\\n      <p>nawyk trwający {{item.duration}} dni</p>\\r\\n      <p>{{item.message}}</p>\\r\\n    </ion-card-content>\\r\\n\\r\\n        <ion-icon class=\\\"progress-icon\\\" src={{iconSrc}}></ion-icon>\\r\\n\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { FinishedHabitsPage } from './finishedHabits.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FinishedHabitsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FinishedHabitsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FinishedHabitsPageRoutingModule } from './finishedHabits-routing.module';\r\n\r\nimport { FinishedHabitsPage } from './finishedHabits.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    FinishedHabitsPageRoutingModule\r\n  ],\r\n  declarations: [FinishedHabitsPage]\r\n})\r\nexport class FinishedHabitsPageModule {}\r\n","export default \"ion-spinner {\\n  margin-left: 16px;\\n  margin-top: 16px;\\n}\\n\\nion-card {\\n  padding: 16px;\\n  border-radius: 15px 15px 15px 15px;\\n}\\n\\nion-item {\\n  border-radius: 15px 15px 15px 15px;\\n  opacity: 0.85;\\n  font-size: 18px;\\n}\\n\\np {\\n  font-size: 15px;\\n}\\n\\n.desc {\\n  font-size: 18px;\\n  color: #696969;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZmluaXNoZWRIYWJpdHMvQzpcXFVzZXJzXFxNS1xcRGVza3RvcFxccHJvamVrdFxcSGFiaXRUcmFja2VyL3NyY1xcYXBwXFxwYWdlc1xcZmluaXNoZWRIYWJpdHNcXGZpbmlzaGVkSGFiaXRzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvZmluaXNoZWRIYWJpdHMvZmluaXNoZWRIYWJpdHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREVFO0VBQ0UsYUFBQTtFQUNBLGtDQUFBO0FDQ0o7O0FERUU7RUFDRSxrQ0FBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FERUU7RUFDRSxlQUFBO0VBQ0EsY0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvZmluaXNoZWRIYWJpdHMvZmluaXNoZWRIYWJpdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXNwaW5uZXIge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDE2cHg7XHJcbiAgICBtYXJnaW4tdG9wOiAxNnB4O1xyXG4gIH1cclxuICBcclxuICBpb24tY2FyZHtcclxuICAgIHBhZGRpbmc6IDE2cHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4IDE1cHggMTVweCAxNXB4O1xyXG4gIH1cclxuICBcclxuICBpb24taXRlbXtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHggMTVweCAxNXB4IDE1cHg7XHJcbiAgICBvcGFjaXR5OiAwLjg1O1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gIH1cclxuICBcclxucHtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICB9XHJcbiAgXHJcbiAgLmRlc2N7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBjb2xvcjogIzY5Njk2OTtcclxuICB9IiwiaW9uLXNwaW5uZXIge1xuICBtYXJnaW4tbGVmdDogMTZweDtcbiAgbWFyZ2luLXRvcDogMTZweDtcbn1cblxuaW9uLWNhcmQge1xuICBwYWRkaW5nOiAxNnB4O1xuICBib3JkZXItcmFkaXVzOiAxNXB4IDE1cHggMTVweCAxNXB4O1xufVxuXG5pb24taXRlbSB7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHggMTVweCAxNXB4IDE1cHg7XG4gIG9wYWNpdHk6IDAuODU7XG4gIGZvbnQtc2l6ZTogMThweDtcbn1cblxucCB7XG4gIGZvbnQtc2l6ZTogMTVweDtcbn1cblxuLmRlc2Mge1xuICBmb250LXNpemU6IDE4cHg7XG4gIGNvbG9yOiAjNjk2OTY5O1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AlertController, ModalController } from '@ionic/angular';\r\nimport { NavController } from '@ionic/angular';\r\nimport { DataService } from '../../data.service';\r\nimport { Router } from '@angular/router';\r\nimport { addDays, format } from 'date-fns';\r\n\r\n@Component({\r\n  selector: 'app-finishedHabits',\r\n  templateUrl: './finishedHabits.page.html',\r\n  styleUrls: ['./finishedHabits.page.scss'],\r\n})\r\nexport class FinishedHabitsPage implements OnInit {\r\n  items = [];\r\n  uid = {};\r\n  loading = true;\r\n  iconSrc = \"/assets/custom-ion-icons/progress0.svg\";\r\n\r\n  constructor(private afAuth: AngularFireAuth, private db: AngularFirestore, public navCtrl: NavController, private router: Router,\r\n    private alertCtrl: AlertController, private dataService: DataService) {\r\n      this.afAuth.authState.subscribe(user => {\r\n        if (user)\r\n          this.uid = user.uid;\r\n      });\r\n      this.afAuth.authState.subscribe(user => {\r\n        if (!user)\r\n          return;\r\n        this.db.collection(`users/${this.uid}/finishedHabits`, ref => {\r\n          let query = ref.orderBy('created');\r\n          return query;\r\n        }).snapshotChanges().subscribe(colSnap => {\r\n          this.items = [];\r\n          colSnap.forEach(a => {\r\n            let item = a.payload.doc.data();\r\n            item['id'] = a.payload.doc.id;\r\n            this.items.push(item);\r\n          });\r\n          this.loading = false;\r\n          for(let item of this.items){\r\n            item.endDate = this.countEndDate(item.date, item.duration);\r\n            item.message = `nawyk zakończył się ${item.endDate}`;\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n  countEndDate(date, days){\r\n    let startDate = new Date(date);\r\n    let endDate = addDays(startDate, (days-1));\r\n    return format(endDate, 'dd/MM/yyyy');\r\n  }\r\n\r\n  onSelect(id, item) {\r\n    this.dataService.setData(id, item);\r\n    this.router.navigateByUrl(`/finished-detail/${id}`);\r\n  }\r\n\r\n}\r\n\r\n"],"sourceRoot":"webpack:///"}